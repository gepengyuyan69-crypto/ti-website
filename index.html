<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ti—去中心化</title>
<script src="https://cdn.jsdelivr.net/npm/ethers@6.8.0/dist/ethers.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
<script src="https://unpkg.com/web3modal@1.9.11/dist/index.js"></script>
<script src="https://unpkg.com/@walletconnect/web3-provider@1.9.2/dist/umd/index.min.js"></script>
<style>
:root{--bg:#0c0f1a;--card:#111420;--primary:#0b6fff;--accent:#0ff;--font:'Arial',sans-serif;}
body{margin:0;font-family:var(--font);background:var(--bg);color:#fff;}
#bgCanvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;}
header{padding:20px;text-align:center;position:relative;overflow:hidden;border-bottom:2px solid var(--accent);}
header h1{margin:0;font-size:2.4em;letter-spacing:2px;}
header p{margin:6px 0 0;opacity:0.8;}
header::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:url('https://i.imgur.com/ChBvOeR.png') no-repeat center/contain;opacity:0.05;}
.container{max-width:1200px;margin:20px auto;padding:12px;}
.row{display:flex;flex-wrap:wrap;gap:16px;}
.card{background:var(--card);border-radius:12px;padding:20px;flex:1;min-width:280px;box-shadow:0 8px 20px rgba(0,255,255,0.2);transition:0.3s;}
.card:hover{transform:translateY(-6px);box-shadow:0 12px 25px rgba(0,255,255,0.4);}
h3{margin-top:0;cursor:pointer;}
button{padding:10px 16px;border-radius:8px;border:none;cursor:pointer;font-weight:600;transition:0.2s;}
.btn-primary{background:var(--primary);color:#fff;}
.btn-primary:hover{background:#0056c3;}
.btn-ghost{background:transparent;border:1px solid var(--accent);color:var(--accent);}
.btn-ghost:hover{background:var(--accent);color:#000;}
input,select{padding:8px;border-radius:6px;border:1px solid #555;background:#111420;color:#fff;width:160px;}
label{display:block;font-size:13px;color:#aaa;margin-top:8px;}
#tiChart{width:100%!important;height:350px!important;}
.small{font-size:13px;color:#888;}
.status{margin-top:8px;font-size:14px;color:#0ff;}
.lang{position:absolute;top:20px;right:20px;}
footer{text-align:center;margin:12px auto;color:#666;font-size:13px;}
@media(max-width:900px){.row{flex-direction:column;}.card{min-width:auto;}}
</style>
</head>
<body>
<canvas id="bgCanvas"></canvas>
<header>
<h1>Ti</h1>
<p id="subtitle">去中心化社区代币 — 连接钱包并交易</p>
<select id="langSelect" class="lang">
<option value="zh">中文</option>
<option value="en">English</option>
<option value="ja">日本語</option>
<option value="ko">한국어</option>
<option value="es">Español</option>
<option value="fr">Français</option>
</select>
</header>
<div class="container">
<div class="row">
<div class="card" style="flex:2">
<h3>Ti 代币（TI）</h3>
<p class="small">合约地址：<code id="tiAddress">0x8b5be89c0f4eabbe51fd13cf21824b65b79527f3</code></p>
<div style="display:flex;gap:16px;flex-wrap:wrap;margin-top:10px">
<div><div class="small">当前价格</div><div id="tiPrice" style="font-size:20px;font-weight:700">加载中...</div></div>
<div><div class="small">涨跌幅</div><div id="tiChange" style="font-size:16px">—</div></div>
</div>
<label>选择交易对或输入合约地址</label>
<select id="pairSelect"></select>
<input id="tokenAddressInput" type="text" placeholder="输入代币合约地址快速查询" style="margin-top:5px;width:200px;">
<button id="queryTokenBtn" class="btn-ghost">查询代币</button>
<canvas id="tiChart"></canvas>
</div>
<div class="card" style="flex:1;min-width:320px">
<h3>DApp 交易面板</h3>
<div id="walletArea">
<div class="small">钱包状态： <span id="walletStatus">未连接</span></div>
<div class="small">地址： <span id="walletAddress">—</span></div>
<div class="small">网络： <span id="walletNetwork">—</span></div>
<button id="connectBtn" class="btn-primary">连接钱包</button>
<button id="addTokenBtn" class="btn-ghost">添加 TI 到钱包</button>
</div>
<div id="balanceArea">
<div class="small">余额： <strong id="fromBalance">0</strong> | <strong id="toBalance">0</strong></div>
</div>
<label>源币</label>
<select id="fromToken"></select>
<label>目标币</label>
<select id="toToken"></select>
<label>数量</label>
<input id="swapAmount" type="number" step="any" placeholder="输入数量">
<label class="small">滑点 (%)</label>
<input id="slippageInput" type="number" value="1" step="0.1">
<div style="margin-top:8px">
<div class="small">预计接收： <strong id="estimatedOut">—</strong></div>
<div class="small">实时 Gas: <strong id="gasFee">—</strong> BNB</div>
<button id="estimateBtn" class="btn-ghost">估算</button>
<button id="swapBtn" class="btn-primary">确认交易</button>
<div id="swapStatus" class="status"></div>
<div id="txHash" class="small"></div>
</div>
<h3 style="margin-top:20px">设置 ⚙️</h3>
<label>价格刷新间隔（秒）</label>
<input id="refreshInterval" type="number" value="5" step="1">
<label>折线图点数</label>
<input id="chartPoints" type="number" value="20" step="1">
<label>默认交易对</label>
<select id="defaultPair"></select>
<label>默认滑点 (%)</label>
<input id="defaultSlippage" type="number" value="1" step="0.1">
<button id="saveSettingsBtn" class="btn-primary">保存设置</button>
</div>
</div>
<div class="row" style="margin-top:20px">
<div class="card">
<h3 onclick="toggleDesc()">Ti 代币简介 ▼</h3>
<div id="descContent" style="display:none; margin-top:10px;">
<p>TI 是基于 BSC 链的去中心化多功能社区代币，提供奖励、治理和生态建设工具。</p>
<ul>
<li>社区奖励：参与活动可获得 TI</li>
<li>治理功能：持有 TI 可投票和提案</li>
<li>生态建设：未来可用于 NFT、DeFi 及平台支付</li>
</ul>
<p class="small">注意：数字货币投资有风险，请谨慎操作。</p>
</div>
</div>
</div>
</div>
<footer>© 2025 Ti. All Rights Reserved.</footer>
<script>
// 粒子背景
const canvas=document.getElementById('bgCanvas'); const ctx=canvas.getContext('2d'); canvas.width=window.innerWidth; canvas.height=window.innerHeight;
let particles=[]; for(let i=0;i<80;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*4+2,d:Math.random()*1});}
function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);ctx.fillStyle='rgba(0,255,255,0.6)';for(let i=0;i<particles.length;i++){const p=particles[i];ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2,true);ctx.fill();p.y+=p.d;if(p.y>canvas.height){p.y=0;p.x=Math.random()*canvas.width;}}requestAnimationFrame(draw);}draw();

// 多语言
const langSelect=document.getElementById('langSelect');
const TEXTS={zh:{subtitle:"去中心化社区代币 — 连接钱包并交易"},en:{subtitle:"Decentralized Token — Connect Wallet & Trade"},ja:{subtitle:"分散型トークン — ウォレット接続＆取引"},ko:{subtitle:"분산형 토큰 — 지갑 연결 및 거래"},es:{subtitle:"Token descentralizado — Conectar Wallet & Operar"},fr:{subtitle:"Token décentralisé — Connecter Wallet & Trader"}};
langSelect.addEventListener('change',()=>{document.getElementById('subtitle').innerText=TEXTS[langSelect.value].subtitle;});
document.getElementById('subtitle').innerText=TEXTS['zh'].subtitle;

// 折叠代币简介
function toggleDesc(){const c=document.getElementById('descContent'); c.style.display=c.style.display==='none'?'block':'none';}
</script>
</body>
</html>
